(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{419:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(934)),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(923);var o=r(1),a=u(o),i=u(r(925)),c=u(r(928));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(930);var f=n.default.TabPane,p=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,o=Array(l),a=0;a<l;a++)o[a]=arguments[a];return r=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.swtichPanel=function(e){console.log(e)},s(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),l(t,[{key:"render",value:function(){return a.default.createElement("div",{className:"player-tabs"},a.default.createElement(n.default,{defaultActiveKey:"lazyLoad",onChange:this.swtichPanel},a.default.createElement(f,{tab:"懒加载",key:"lazyLoad"},a.default.createElement(i.default,null)),a.default.createElement(f,{tab:"滚动加载",key:"scrollLoad"},a.default.createElement(c.default,null))))}}]),t}();t.default=p},669:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},t.findParent=function(e,t){for(var r=e.parentNode;r&&-1===r.className.indexOf(t);)r=r.parentNode;return r}},925:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=p(o),i=r(53),c=r(42),u=p(r(926)),s=r(173),f=r(669);function p(e){return e&&e.__esModule?e:{default:e}}r(927);var d=(0,i.connect)(function(e){return{players:e.players}},function(e){return(0,c.bindActionCreators)({getPlayers:s.getPlayers},e)})(n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={scrollEl:null},r.scrollRef=a.default.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),l(t,[{key:"componentDidMount",value:function(){(0,this.props.getPlayers)(),this.setState({scrollEl:(0,f.findParent)(this.scrollRef.current,"ui-main-content")})}},{key:"render",value:function(){var e=this.props.players,t=this.state.scrollEl;return a.default.createElement("div",{ref:this.scrollRef},e.list.map(function(e){return a.default.createElement("div",{key:e.id,className:"player-info-wrapper"},a.default.createElement("div",{className:"player-info clearfix"},a.default.createElement("div",{className:"player-info__img"},t&&a.default.createElement(u.default,{height:365,container:t},a.default.createElement("img",{src:e.picture,alt:""}))),a.default.createElement("p",{className:"player-info__detail"},e.name),a.default.createElement("p",{className:"player-info__detail"},e.shirt_num),a.default.createElement("p",{className:"player-info__detail"},e.country),a.default.createElement("p",{className:"player-info__detail"},e.birthday),a.default.createElement("p",{className:"player-info__detail"},e.transfer_fee)))}))}}]),t}())||n;t.default=d},926:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(1),i=s(a),c=s(r(0)),u=s(r(461));function s(e){return e&&e.__esModule?e:{default:e}}var f=(l=n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={visible:!1},r.onScroll=function(){var e=r.props.offset,t=r.elRef.current.getBoundingClientRect();r.scrollEl.clientHeight>t.top+e&&r.setState({visible:!0})},r.elRef=i.default.createRef(),r.onScroll=u.default.throttle(r.onScroll,200),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){var e=this.props.container;this.scrollEl=e||window,this.scrollEl.addEventListener("scroll",this.onScroll),this.onScroll()}},{key:"componentWillUnmount",value:function(){this.scrollEl.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this.props,t=e.height,r=e.placeholder,n=e.children,l=this.state.visible;return i.default.createElement("div",{style:{height:t+"px"},ref:this.elRef},l?n:r)}}]),t}(),n.propTypes={placeholder:c.default.any,container:c.default.object,height:c.default.number.isRequired,offset:c.default.number},n.defaultProps={offset:-200},l);t.default=f},927:function(e,t,r){},928:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=p(o),i=r(53),c=r(42),u=p(r(461)),s=r(173),f=r(669);function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}r(929);var y=100,h=(0,i.connect)(function(e){return{players:e.players}},function(e){return(0,c.bindActionCreators)({getScrollPlayers:s.getScrollPlayers,getPlayers:s.getPlayers},e)})(n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={players:[],scrollStatus:""},r.handleScroll=function(){var e=r.props,t=e.getScrollPlayers,n=e.players,l=r.state.players,o=r.scrollEl.clientHeight,a=r.scrollEl.scrollTop,i=r.scrollEl.scrollHeight;if(r.total=n.list.length,r.curTotal=l.length,r.total===r.curTotal)return r.scrollEl.removeEventListener("scroll",r.handleScroll),void r.setState({scrollStatus:"已经到底啦..."});o+a>=i-y&&r.loadMore&&(r.loadMore=!1,r.setState({scrollStatus:"loading"}),t(++r.page,r.size).then(function(){r.loadMore=!0,r.setState({scrollStatus:""})}))},r.scrollRef=a.default.createRef(),r.handleScroll=u.default.throttle(r.handleScroll,200),r.scrollEl=null,r.page=1,r.size=6,r.loadMore=!0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),l(t,[{key:"componentDidMount",value:function(){var e=this.props.getScrollPlayers;this.scrollEl=(0,f.findParent)(this.scrollRef.current,"ui-main-content"),this.scrollEl.addEventListener("scroll",this.handleScroll),e(this.page,this.size),(0,s.getPlayers)()}},{key:"componentWillUnmount",value:function(){this.scrollEl.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.state,t=e.players,r=e.scrollStatus;return a.default.createElement("div",{ref:this.scrollRef},t.map(function(e){return a.default.createElement("div",{key:e.id,className:"player-info-wrapper"},a.default.createElement("div",{className:"player-info clearfix"},a.default.createElement("div",{className:"player-info__img"},a.default.createElement("img",{src:e.picture,alt:""})),a.default.createElement("p",{className:"player-info__detail"},e.name),a.default.createElement("p",{className:"player-info__detail"},e.shirt_num),a.default.createElement("p",{className:"player-info__detail"},e.country),a.default.createElement("p",{className:"player-info__detail"},e.birthday),a.default.createElement("p",{className:"player-info__detail"},e.transfer_fee)))}),a.default.createElement("div",{className:"scrollStatus"},r))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.players.list2&&e.players.list2[0];return r&&t.players.every(function(e){return e.id!==r.id})?{players:[].concat(d(t.players),d(e.players.list2))}:null}}]),t}())||n;t.default=h},929:function(e,t,r){},930:function(e,t,r){}}]);
//# sourceMappingURL=PlayerPage.205f168a37f558bdc444.js.map