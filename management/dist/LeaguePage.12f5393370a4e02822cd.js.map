{"version":3,"sources":["webpack:///./src/views/LeaguePage/LeaguePage.jsx","webpack:///./src/containers/LeagueTable/LeagueTable.jsx","webpack:///./src/components/Table/Table.jsx","webpack:///./src/containers/LeagueEditForm/LeagueEditForm.jsx","webpack:///./src/components/Pagination/Pagination.jsx"],"names":["_react","__webpack_require__","_redux","_reactRedux","_league","LeaguePage","connect","state","total","leagues","list","dispatch","bindActionCreators","searchLeagues","addLeague","getLeagues","putLeague","deleteLeague","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","searchTxt","type","visible","editData","page","limit","pageSize","setState","editLeague","content","record","id","then","handleModalOk","params","rest","_objectWithoutProperties","payload","handleModalCancel","handleChagne","e","target","value","handlePageTurn","Component","_state","_react2","default","createElement","className","onChange","onClick","_LeagueTable2","edit","del","_Pagination2","_modal2","title","onCancel","width","footer","_LeagueEditForm2","onOk","LeagueForm","_props","_Table2","dataSource","items","columns","dataIndex","key","render","_popconfirm2","onConfirm","okText","cancelText","getColumns","pagination","position","getType","obj","prototype","toString","slice","Table","map","col","propTypes","PropTypes","array","isRequired","initState","undefined","name","fullName","enName","country","createTime","teamNum","LeagueEditForm","lackName","lackCreateTime","lackCountry","lackTeamNum","handleSubmit","_this$props","_this$state","formValidate","full_name","en_name","create_time","team_num","resetForm","_this$state2","handleChange","_defineProperty","handleCancel","handleFileChange","logoText","files","_this2","htmlFor","accept","nextProps","preState","Pagination","handleClick","index","current","Math","ceil","createPageBtn","_this$props2","pageNum","pageArr","_loop","i","active","push","PureComponent","number","func","defaultProps"],"mappings":"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","file":"LeaguePage.12f5393370a4e02822cd.js","sourcesContent":["import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { Modal } from 'antd'\nimport LeagueTable from '../../containers/LeagueTable/LeagueTable'\nimport LeagueEditForm from '../../containers/LeagueEditForm/LeagueEditForm'\nimport Pagination from '../../components/Pagination/Pagination'\nimport {\n  searchLeagues, addLeague, getLeagues, putLeague, deleteLeague\n} from '../../redux/actions/league'\nimport './style.scss'\n\nconst editFormWidth = 680\n\n@connect(\n  state => ({ total: state.leagues.list.total }),\n  dispatch => bindActionCreators({\n    searchLeagues, addLeague, getLeagues, putLeague, deleteLeague\n  }, dispatch)\n)\nclass LeaguePage extends Component {\n  constructor(props) {\n    super(props)\n    this.pageSize = 10\n    this.page = 1\n  }\n\n  state = {\n    searchTxt: '',\n    type: '',\n    visible: false,\n    editData: null\n  }\n\n  componentDidMount() {\n    this.getLeagues(this.page, this.pageSize)\n  }\n\n  getLeagues = (page, limit) => {\n    const { getLeagues } = this.props\n    getLeagues(page, limit)\n  }\n\n  searchLeagues = () => {\n    const { searchLeagues } = this.props\n    const { searchTxt } = this.state\n    searchLeagues(this.page, this.pageSize, searchTxt)\n  }\n\n  addLeague = () => {\n    this.setState({\n      type: 'add',\n      visible: true,\n    })\n  }\n\n  editLeague = (content, record) => {\n    this.setState({\n      type: 'edit',\n      visible: true,\n      editData: record\n    })\n  }\n\n  deleteLeague = (id) => {\n    const { deleteLeague } = this.props\n    deleteLeague(id).then(() => {\n      this.setState({\n        visible: false,\n        editData: null\n      })\n      this.getLeagues(this.page, this.pageSize)\n    })\n  }\n\n  handleModalOk = (params) => {\n    const { addLeague } = this.props\n    const { type } = this.state\n    if (type === 'add') {\n      return addLeague({\n        ...params\n      }).then(() => {\n        this.setState({\n          visible: false,\n          editData: null\n        })\n        this.getLeagues(this.page, this.pageSize)\n      })\n    }\n    const { id, ...rest } = params\n    return putLeague(id, rest).payload.then(() => {\n      this.setState({\n        visible: false,\n        editData: null\n      })\n      this.getLeagues(this.page, this.pageSize)\n    })\n  }\n\n  handleModalCancel = () => {\n    this.setState({\n      visible: false,\n      editData: null\n    })\n  }\n\n  handleChagne = (e) => {\n    this.setState({\n      searchTxt: e.target.value\n    })\n  }\n\n  handlePageTurn = (page, limit) => {\n    this.page = page\n    this.getLeagues(page, limit)\n  }\n\n  render() {\n    const { total } = this.props\n    const {\n      searchTxt, visible, type, editData\n    } = this.state\n    return (\n      <div className=\"leaguePage\">\n        <div className=\"league-page__header\">\n          <div className=\"league-page__search\">\n            <input value={searchTxt} onChange={this.handleChagne} className=\"ui-input\" type=\"text\" />\n            <a className=\"ui-btn\" onClick={this.searchLeagues}>搜索</a>\n          </div>\n          <div className=\"league-page__add\">\n            <a className=\"ui-btn\" onClick={this.addLeague}>添加</a>\n          </div>\n        </div>\n        <LeagueTable edit={this.editLeague} del={this.deleteLeague} />\n        <div className=\"form-pagination\">\n          <Pagination\n            total={total}\n            pageSize={this.pageSize}\n            onChange={this.handlePageTurn}\n          />\n        </div>\n        <Modal title={type === 'add' ? '增加联赛' : '编辑联赛'}\n          visible={visible}\n          onCancel={this.handleModalCancel}\n          width={editFormWidth}\n          footer={null}\n        >\n          <LeagueEditForm\n            editData={editData}\n            onCancel={this.handleModalCancel}\n            onOk={this.handleModalOk}\n          />\n        </Modal>\n      </div>\n    )\n  }\n}\n\nexport default LeaguePage\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Popconfirm } from 'antd'\nimport Table from '../../components/Table/Table'\nimport './style.scss'\n\nconst getColumns = (edit, del) => (\n  [\n    { title: '名称', dataIndex: 'name', key: 'name' },\n    { title: '成立年份', dataIndex: 'create_time', key: 'create_time' },\n    { title: '全称', dataIndex: 'full_name', key: 'full_name' },\n    { title: '外文名', dataIndex: 'en_name', key: 'en_name' },\n    { title: '国家', dataIndex: 'country', key: 'country' },\n    { title: '球队数目', dataIndex: 'team_num', key: 'team_num' },\n    {\n      title: '操作',\n      key: 'action',\n      render: (content, record) => (\n        <span>\n          <a className=\"league-action\" onClick={() => edit(content, record)}>编辑</a>\n          <Popconfirm\n            title=\"确定删除？\"\n            onConfirm={() => del(record.id)}\n            okText=\"Yes\"\n            cancelText=\"No\"\n          >\n            <a>删除</a>\n          </Popconfirm>\n        </span>\n      ),\n    }\n  ]\n)\n\n@connect(\n  state => ({ leagues: state.leagues }),\n)\nclass LeagueForm extends Component {\n  render() {\n    const { leagues, edit, del } = this.props\n    return (\n      <div className=\"league-form\">\n        <Table\n          dataSource={leagues.list.items}\n          columns={getColumns(edit, del)}\n          pagination={{ pageSize: 20, position: 'top' }}\n        />\n      </div>\n    )\n  }\n}\n\nexport default LeagueForm\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './Table.scss'\n\nexport const getType = obj => Object.prototype.toString.call(obj).slice(8, -1)\n\nclass Table extends Component {\n  static propTypes = {\n    dataSource: PropTypes.array.isRequired,\n    columns: PropTypes.array.isRequired\n  }\n\n  render() {\n    const { dataSource, columns } = this.props\n    return (\n      <div className=\"ui-table\">\n        <table>\n          <thead>\n            <tr className=\"ui-table-row\">{ columns.map(col => <th className=\"ui-table-th\" key={col.key}>{col.title}</th>) }</tr>\n          </thead>\n          <tbody>\n            {\n              dataSource.map(record => (\n                <tr className=\"ui-table-row\" key={record.key}>\n                  {\n                    columns.map((col) => {\n                      let content = record[col.dataIndex]\n                      if (getType(col.render) === 'Function') {\n                        content = col.render(content, record)\n                      }\n                      return <td key={col.key} className=\"ui-table-td\">{content}</td>\n                    })\n                  }\n                </tr>\n              ))\n            }\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default Table\n","import React, { Component } from 'react'\nimport './style.scss'\n\nconst initState = {\n  id: undefined,\n  name: '',\n  fullName: '',\n  enName: '',\n  country: '',\n  createTime: '',\n  teamNum: '',\n}\n\nclass LeagueEditForm extends Component {\n  state = {\n    ...initState,\n    lackName: false,\n    lackCreateTime: false,\n    lackCountry: false,\n    lackTeamNum: false\n  }\n\n  static getDerivedStateFromProps(nextProps, preState) {\n    if (nextProps.editData && !preState.name) {\n      const params = nextProps.editData\n      return {\n        id: params.id,\n        name: params.name,\n        fullName: params.full_name,\n        enName: params.en_name,\n        country: params.country,\n        createTime: params.create_time,\n        teamNum: params.team_num\n      }\n    }\n    return null\n  }\n\n  handleSubmit = () => {\n    const { onOk, editData } = this.props\n    const {\n      id, name, fullName, enName, country, createTime, teamNum\n    } = this.state\n    if (!this.formValidate()) {\n      return\n    }\n    const params = {\n      name,\n      full_name: fullName,\n      en_name: enName,\n      country,\n      create_time: createTime,\n      team_num: teamNum,\n    }\n    if (editData) {\n      params.id = id\n    }\n    onOk(params).then(() => {\n      this.resetForm()\n    })\n  }\n\n  formValidate = () => {\n    const {\n      name, country, createTime, teamNum\n    } = this.state\n    const lackName = !name\n    const lackCountry = !country\n    const lackCreateTime = !createTime\n    const lackTeamNum = !teamNum\n    this.setState({\n      lackName,\n      lackCountry,\n      lackCreateTime,\n      lackTeamNum,\n    })\n    return !(lackName || lackCountry || lackCreateTime || lackTeamNum)\n  }\n\n  resetForm = () => {\n    this.setState(initState)\n  }\n\n  handleChange = (key, e) => {\n    this.setState({\n      [key]: e.target.value\n    })\n  }\n\n  handleCancel = () => {\n    const { onCancel } = this.props\n    this.resetForm()\n    onCancel()\n  }\n\n  handleFileChange = (e) => {\n    this.setState({\n      logoText: e.target.files[0].name\n    })\n  }\n\n  render() {\n    const {\n      name, fullName, enName, country, createTime, teamNum, logoText,\n      lackName, lackCountry, lackCreateTime, lackTeamNum\n    } = this.state\n    return (\n      <div className=\"league-edit__form\">\n        <div className=\"form__group\">\n          <label htmlFor=\"leagueName\" className=\"label require\">\n            <span className=\"label-name\">名称：</span>\n            <input value={name} id=\"leagueName\" onChange={e => this.handleChange('name', e)} className={`input ${lackName && 'lack'}`} type=\"text\" />\n          </label>\n        </div>\n        <div className=\"form__group\">\n          <label htmlFor=\"leagueCreateTime\" className=\"label require\">\n            <span className=\"label-name\">成立年份：</span>\n            <input value={createTime} id=\"leagueCreateTime\" onChange={e => this.handleChange('createTime', e)} className={`input ${lackCreateTime && 'lack'}`} type=\"text\" />\n          </label>\n        </div>\n        <div className=\"form__group\">\n          <label htmlFor=\"leagueFullName\" className=\"label\">\n            <span className=\"label-name\">全称：</span>\n            <input value={fullName} id=\"leagueFullName\" onChange={e => this.handleChange('fullName', e)} className=\"input\" type=\"text\" />\n          </label>\n        </div>\n        <div className=\"form__group\">\n          <label htmlFor=\"leagueEnName\" className=\"label\">\n            <span className=\"label-name\">外文名：</span>\n            <input value={enName} id=\"leagueEnName\" onChange={e => this.handleChange('enName', e)} className=\"input\" type=\"text\" />\n          </label>\n        </div>\n        <div className=\"form__group\">\n          <label htmlFor=\"leagueCountry\" className=\"label require\">\n            <span className=\"label-name\">国家：</span>\n            <input value={country} id=\"leagueCountry\" onChange={e => this.handleChange('country', e)} className={`input ${lackCountry && 'lack'}`} type=\"text\" />\n          </label>\n        </div>\n        <div className=\"form__group\">\n          <label htmlFor=\"leagueTeamNum\" className=\"label require\">\n            <span className=\"label-name\">球队数：</span>\n            <input value={teamNum} id=\"leagueTeamNum\" onChange={e => this.handleChange('teamNum', e)} className={`input ${lackTeamNum && 'lack'}`} type=\"text\" />\n          </label>\n        </div>\n        <div className=\"form__group\">\n          <label htmlFor=\"leagueLogo\" className=\"label\">\n            <span className=\"label-name\">球队Logo：</span>\n            <span className=\"input\">{logoText}</span>\n            <input id=\"leagueLogo\" accept=\"image/*\" onChange={this.handleFileChange} className=\"file_input\" type=\"file\" />\n          </label>\n        </div>\n        <div className=\"form__group clearfix\">\n          <a className=\"ui-btn float-right\" onClick={this.handleSubmit}>确认</a>\n          <a className=\"ui-btn float-right\" onClick={this.handleCancel}>取消</a>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default LeagueEditForm\n","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport './Pagination.scss'\n\nclass Pagination extends PureComponent {\n  static propTypes = {\n    total: PropTypes.number.isRequired,\n    pageSize: PropTypes.number,\n    onChange: PropTypes.func\n  }\n\n  static defaultProps = {\n    pageSize: 8,\n    onChange: () => {}\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      current: 1\n    }\n  }\n\n  handleClick = (index) => {\n    const { onChange, total, pageSize } = this.props\n    const { current } = this.state\n    if (index === 'prev' && current !== 1) {\n      index = current - 1\n    }\n    if (index === 'next' && current !== Math.ceil(total / pageSize)) {\n      index = current + 1\n    }\n    if (index !== current && typeof index === 'number') {\n      onChange(index, pageSize)\n      this.setState({\n        current: index\n      })\n    }\n  }\n\n  createPageBtn = () => {\n    const { total, pageSize } = this.props\n    const { current } = this.state\n    const pageNum = Math.ceil(total / pageSize)\n    const pageArr = []\n    for (let i = 1; i <= pageNum; i++) {\n      const active = i === current ? 'active' : ''\n      pageArr.push(\n        <li className={`ui-pagination-item ${active}`} onClick={() => this.handleClick(i)} key={i}>\n          <a className=\"ant-pagination-item-link\">{i}</a>\n        </li>\n      )\n    }\n    return pageArr\n  }\n\n  render() {\n    return (\n      <div className=\"ui-pagination\">\n        <ul className=\"ui-pagination-list\">\n          <li className=\"ui-pagination-item prev\" onClick={() => this.handleClick('prev')}>\n            <a className=\"ant-pagination-item-link\"></a>\n          </li>\n          { this.createPageBtn() }\n          <li className=\"ui-pagination-item next\" onClick={() => this.handleClick('next')}>\n            <a className=\"ant-pagination-item-link\"></a>\n          </li>\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default Pagination\n"],"sourceRoot":""}